<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cosmic DevSpace â€¢ Guestbook</title>
  <link rel="stylesheet" href="./css/styles.css" />
</head><body class="guestbook-page">
  <header class="site-header">
    <div class="logo">ðŸš€ Cosmic DevSpace</div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="portfolio.html">Portfolio</a>
      <a href="projects.html">Projects</a>
      <a href="blog.html">Blog</a>
      <a href="guestbook.html" class="active">Guestbook</a>
      <a href="analytics.html">Analytics</a>
      <a href="contact.html">Contact</a>
      <span class="auth-links">
        <a href="login.html" id="loginLink">Sign In</a>
        <a href="register.html" id="registerLink" class="btn-primary">Register</a>
        <button id="logoutBtn" class="btn-secondary" hidden>Logout</button>
      </span>
    </nav>
  </header>

  <main class="container">
    <h1 class="page-title">ðŸ“– Guestbook</h1>

    <section class="gb-analytics" aria-label="Guestbook analytics">
      <span class="kpi-badge" id="gbTotal">Total: 0</span>
      <span class="kpi-badge" id="gbRecent">Last 7 days: 0</span>
      <span class="kpi-badge" id="gbActive">Most active: â€”</span>
    </section>

    <section class="toolbar" aria-label="Guestbook Filters and Sorting">
      <div class="toolbar-row">
        <div class="filters">
          <select id="gbFilterUser" aria-label="Filter by User">
            <option value="">All Users</option>
          </select>
          <label class="switch"><input type="checkbox" id="gbPinnedOnly"/> <span>Pinned only</span></label>
          <label class="switch"><input type="checkbox" id="gbHideSpam" checked/> <span>Hide spam</span></label>
        </div>
        <div class="search">
          <input id="gbSearch" type="search" placeholder="Search messages..." aria-label="Search messages" />
          <select id="gbSortBy" aria-label="Sort by">
            <option value="-date">Newest</option>
            <option value="date">Oldest</option>
          </select>
          <button id="gbBulkToggle" class="btn-secondary" type="button" hidden>Bulk Select</button>
        </div>
      </div>
    </section>

    <form id="guestbookForm" class="form-inline" autocomplete="on">
      <div class="grid">
        <div class="field">
          <label for="gbName">Name</label>
          <input type="text" id="gbName" placeholder="Your name" required />
        </div>
        <div class="field">
          <label for="gbEmail">Email (optional)</label>
          <input type="email" id="gbEmail" placeholder="you@example.com" />
        </div>
        <div class="field">
          <label for="gbAvatar">Avatar URL (optional)</label>
          <input type="url" id="gbAvatar" placeholder="https://.../avatar.jpg" />
        </div>
        <div class="field" style="grid-column: 1 / -1;">
          <label for="gbMsg">Message <span id="gbCount" class="muted" style="font-weight:400">0/240</span></label>
          <div class="msg-row">
            <textarea id="gbMsg" maxlength="240" placeholder="Say something niceâ€¦ âœ¨" required></textarea>
            <button type="button" id="gbEmojiBtn" class="btn-secondary" title="Emoji">ðŸ˜€</button>
            <div id="gbEmojiPanel" class="emoji-panel hidden" role="dialog" aria-label="Choose emoji"></div>
          </div>
        </div>
        <div class="field two-col" style="grid-column: 1 / -1;">
          <div>
            <label for="gbCaptcha">Captcha: <span id="gbCaptchaQ"></span></label>
            <input id="gbCaptcha" inputmode="numeric" placeholder="Answer" />
          </div>
          <div style="align-self:end; display:flex; gap:10px; align-items:end;">
            <input type="text" id="gbHoney" autocomplete="off" tabindex="-1" aria-hidden="true" style="position:absolute; left:-9999px; width:1px; height:1px; opacity:0;" />
            <button class="btn-gradient" type="submit" title="Sign the guestbook">Sign</button>
          </div>
        </div>
        <div id="gbFormMsg" class="form-message" aria-live="polite"></div>
      </div>
    </form>

    <div id="gbBulkBar" class="bulk-bar hidden">
      <button type="button" id="gbSelectAll" class="btn-secondary">Select All</button>
      <button type="button" id="gbDeleteSel" class="btn-secondary">Delete Selected</button>
      <button type="button" id="gbMarkSpamSel" class="btn-secondary">Mark Spam</button>
      <button type="button" id="gbUnspamSel" class="btn-secondary">Unmark Spam</button>
      <span id="gbSelCount" class="muted">0 selected</span>
    </div>

    <section id="guestbookEntries" class="gb-list" aria-live="polite"></section>
    <div class="load-more-row">
      <button id="gbLoadMore" type="button" class="btn-secondary" hidden>Load More</button>
    </div>
  </main>

  <footer class="site-footer">Â© <span id="year"></span> Cosmic DevSpace</footer>
  <script src="./js/app.js"></script>
  <script src="./js/guestbook.js"></script>
</body></html>
